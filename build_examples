#!/bin/sh

cd ../three-d

for EXAMPLE in triangle fireworks shapes2d shapes volume texture mandelbrot logo image fog picking normals wireframe sprites forest environment pbr lighting lights statues
do 
    export THREE_D_SCREENSHOT="../asny.github.io/three-d/0.11/$EXAMPLE.png"
    if [ $EXAMPLE == fireworks ]; then
        export THREE_D_EXIT=1500
    else
        export THREE_D_EXIT=0
    fi
    cargo run --example $EXAMPLE --release
    wasm-pack build examples/$EXAMPLE --target web --out-name $EXAMPLE --out-dir ../../../asny.github.io/three-d/0.11
done

cp -R examples/assets/ ../asny.github.io/three-d/0.11/examples/assets/

cd ../asny.github.io
rm three-d/0.11/.gitignore
rm three-d/0.11/*.d.ts